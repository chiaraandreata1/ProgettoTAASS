<h3>Create Reservation</h3>
<div [hidden]="submitted" style="width: 300px;">
  <form (ngSubmit)="onSubmit()">
    <div>
      <p>SPORT COURSE:</p>
      <mat-radio-group required [(ngModel)]="course.sporttype" name='valueSport' aria-label="SPORT COURSE">
        <mat-radio-button value="tennis">Tennis</mat-radio-button>
        <mat-radio-button value="padel">Padel</mat-radio-button>
      </mat-radio-group>
    </div>
    <div>
      <p>PRICE COURSE:</p>
      <mat-radio-group required [(ngModel)]="course.priceCourse" name='valuePriceCourse' (change)="setNumberWeeks()" aria-label="PRICE COURSE"> <!-- in base al prezzo cambiano il numero di settimane totali -->
        <mat-radio-button value=240>240€ (12 weeks)</mat-radio-button>
        <mat-radio-button value=400>400€ (24 weeks)</mat-radio-button>
      </mat-radio-group>
    </div>
    <div>
      <mat-form-field appearance="fill">
        <mat-label>Instructor</mat-label>
        <input type="text" matInput [formControl]="instructorCourse" name="Instructor" [matAutocomplete]="auto"  required>
        <button *ngIf="instructorCourse.value" matSuffix mat-icon-button aria-label="Clear" (click)="enableInstructorInput()">
          <mat-icon>close</mat-icon>
        </button>
        <mat-error *ngIf="instructorCourse.hasError('userInvalid')">Select one suggestion</mat-error>
        <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
          <ng-container *ngIf="instructorCourse.value && instructorCourse.value.length>1">
            <mat-option *ngFor="let option of filter | async" [value]="option" (click)="disableInstructorInput()">
              {{option.username}}
            </mat-option>
          </ng-container>
        </mat-autocomplete>
      </mat-form-field>
    </div>
    <div>
      <p>DAYs COURSE:</p>
      <mat-radio-group required name='valueDay' aria-label="DAY COURSE" [(ngModel)]="course.daycourse">
        <mat-radio-button value="Monday">Mon</mat-radio-button> <mat-radio-button value="Tuesday">Tue</mat-radio-button> <mat-radio-button value="Wednesday">Wed</mat-radio-button>
        <mat-radio-button value="Thursday">Thu</mat-radio-button> <mat-radio-button value="Friday">Fri</mat-radio-button> <mat-radio-button value="Saturday">Sat</mat-radio-button>
      </mat-radio-group>
    </div>
    <div>
      <p>HOUR COURS:</p>
      <mat-radio-group required name='valueHour' [(ngModel)]="course.hourlesson" aria-label="HOUR LESSON">
        <mat-radio-button value=9>9</mat-radio-button> <mat-radio-button value=10>10</mat-radio-button> <mat-radio-button value=11>11</mat-radio-button>
        <mat-radio-button value=12>12</mat-radio-button> <mat-radio-button value=13>13</mat-radio-button> <mat-radio-button value=14>14</mat-radio-button>
        <mat-radio-button value=15>15</mat-radio-button> <mat-radio-button value=16>16</mat-radio-button> <mat-radio-button value=17>17</mat-radio-button>
        <mat-radio-button value=18>18</mat-radio-button> <mat-radio-button value=19>19</mat-radio-button> <mat-radio-button value=20>20</mat-radio-button>
        <mat-radio-button value=21>21</mat-radio-button>
      </mat-radio-group>
    </div>
    <div class="input-group date">
      <mat-form-field>
        <input readonly='true' matInput [matDatepicker] = "picker" name="dateEndRegistration" id="dateEndRegistration" [min]="minDate"
               [formControl]="dateEndRegistration" (ngModelChange)="setDate()" required>
        <mat-datepicker-toggle matSuffix [for] = "picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>
    <ng-container *ngIf="course.priceCourse && course.daycourse && course.instructor && course.endDateRegistration && course.hourlesson && course.sporttype; then ButtonAvailable else ButtonNotAvailable"></ng-container>
    <ng-template #ButtonAvailable>
      <button mat-raised-button color="primary" type="submit">CREATE COURSE</button>
    </ng-template>
    <ng-template #ButtonNotAvailable>
      <button mat-raised-button color="primary" [disabled]="true">CREATE COURSE</button>
    </ng-template>
  </form>
</div>

<div [hidden]="!submitted">
  <h4>You submitted successfully!</h4>
  <button mat-raised-button color="primary" type="submit" (click)="newCourse()">Add new</button>
</div>

<!--
<button mat-raised-button color="secondary" (click)="debugButton()">DEBUG</button>
-->
