spring:
  application:
    name: zuul-server

  datasource:
    url: jdbc:postgresql://localhost:5432/session
    driver-class-name: org.postgresql.Driver
    username: taass
    password: asd

  # The SQL dialect makes Hibernate generate better SQL for the chosen database
  #spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect

  # Disable feature detection by this undocumented parameter. Check the org.hibernate.engine.jdbc.internal.JdbcServiceImpl.configure method for more details.
  jpa:
    properties:
      hibernate:
        temp.use_jdbc_metadata_defaults: false

    # Because detection is disabled you have to set correct dialect by hand.
    database-platform: org.hibernate.dialect.PostgreSQL9Dialect

    # Hibernate ddl auto (create, create-drop, validate, update)
    hibernate:
      ddl-auto: update

#management:
#  security:
#    sessions: always

server:
  port: 8080

eureka:
#  instance:
#    prefer-ip-address: true
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
      defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}

#management:
#  endpoints:
#    web:
#      exposure:
#        include: '*'

#ribbon:
#  eureka:
#    enabled: true
---
#spring:
#  profiles: docker

#eureka:
#  client:
#    service-url:
#      defaultZone: http://service-discovery:8761/eureka

zuul:
  ignoredServices: '*'
  ignored-patterns:
    - /sockjs-node/**
    - /a/test
    - /error
  routes:
    tournament-service: /api/v1/tournaments/**
    reservation-service: /api/v1/reservations/**
    board-service: /api/v1/boards/**
    lesson-service: /api/v1/courses/**
#    user-service: /api/v1/users/**
    facility-service: /api/v1/facility/**

#    oauth2-start:
#      path: /**/oauth2/**
#      service-id: authentication-service
#      strip-prefix: false
    authentication-service: /api/v1/user/**
#    oauth2-login:
#      path: /login/oauth2/**
#      service-id: authentication-service
#      strip-prefix: false
#    auth-service:
#      path: /oauth2/**
#      strip-prefix: false
    frontend:
      path: /**
      url: http://localhost:4200/
  sensitive-headers:

logging:
  level:
    org:
      springframework:
        cloud:
          netflix: debug
        security: debug


#taass:
#  auth:
#    tokenSecret: 926D96C90030DD58429D2751AC1BDBBC
#    tokenExpirationMsec: 864000000
#  routes:
#    tournaments-service: /myusers/**

rabbit:
  users:
    exchange-name: rpc.users
    auth:
      queue-name: rpc.users.auth
      key: users.auth

hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 60000
